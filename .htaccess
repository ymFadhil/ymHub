RewriteEngine On

# =========================
# 1. Redirect .php → clean URL (bm & en)
# =========================
RewriteCond %{THE_REQUEST} \s/+((bm|en)/.+?)\.php[\s?] [NC]
RewriteRule ^ /%1 [R=301,L]

# =========================
# 2. Clean URL → php (bm & en)
# =========================
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{DOCUMENT_ROOT}/$1.php -f
RewriteRule ^(.+)$ $1.php [L]

# =========================
# 3. Optional security (recommended)
# =========================
<FilesMatch "(^\.|composer|config)">
    Require all denied
</FilesMatch>
